angular.module("cgNotify",[]).factory("notify",["$timeout","$http","$compile","$templateCache","$rootScope",function(a,b,c,d,e){var f=1e4,g=0,h="angular-notify.html",i="center",j=document.body,k=0,l=[],m=[],n=function(n){"object"!=typeof n&&(n={message:n}),n.duration=n.duration?n.duration:f,n.animationDuration=n.animationDuration?n.animationDuration:g,n.templateUrl=n.templateUrl?n.templateUrl:h,n.container=n.container?n.container:j,n.classes=n.classes?n.classes:"",n.openAnimationClass=n.openAnimationClass?n.openAnimationClass:"",n.closeAnimationClass=n.closeAnimationClass?n.closeAnimationClass:"";var o=n.scope?n.scope.$new():e.$new();if(o.$position=n.position?n.position:i,o.$message=n.message,o.$classes=n.classes,o.$messageTemplate=n.messageTemplate,k>0)for(var p=m.length+1-k,q=0;p>q;q++)m.pop().$close();b.get(n.templateUrl,{cache:d}).success(function(b){var d=c(b)(o);if(n.messageTemplate){for(var e,f=0;f<d.children().length;f++)if(angular.element(d.children()[f]).hasClass("cg-notify-message-template")){e=angular.element(d.children()[f]);break}if(!e)throw new Error("cgNotify could not find the .cg-notify-message-template element in "+n.templateUrl+".");e.append(c(n.messageTemplate)(o))}angular.element(n.container).prepend(d),l.unshift(d),"center"===o.$position&&a(function(){o.$centerMargin="-"+d[0].offsetWidth/2+"px"});var g=function(){d.remove(),l.splice(l.indexOf(d),1)};o.$close=function(){d.removeClass(n.openAnimationClass).addClass(n.closeAnimationClass),a(function(){g()},n.animationDuration+500)},a(function(){d.addClass(n.openAnimationClass).css("visibility","visible")},200),n.duration>0&&a(function(){o.$close()},n.duration+n.animationDuration+500)}).error(function(a){throw new Error("Template specified for cgNotify ("+n.templateUrl+") could not be loaded. "+a)});var r={};return r.close=function(){o.$close&&o.$close()},Object.defineProperty(r,"message",{get:function(){return o.$message},set:function(a){o.$message=a}}),m.unshift(o),r};return n.config=function(a){f=angular.isUndefined(a.duration)?f:a.duration,h=a.templateUrl?a.templateUrl:h,i=angular.isUndefined(a.position)?i:a.position,j=a.container?a.container:j,k=a.maximumOpen?a.maximumOpen:k},n.closeAll=function(){for(var a=0;a<m.length;a++)m.pop().$close()},n}]),angular.module("cgNotify").run(["$templateCache",function(a){"use strict";a.put("angular-notify.html","<div class=\"cg-notify-message\" ng-class=\"[$classes, \n    $position === 'center' ? 'cg-notify-message-center' : '',\n    $position === 'left' ? 'cg-notify-message-left' : '',\n    $position === 'right' ? 'cg-notify-message-right' : '']\"\n    ng-style=\"{'margin-left': $centerMargin}\">\n\n    <div ng-show=\"!$messageTemplate\">\n        {{$message}}\n    </div>\n\n"+'    <div ng-show="$messageTemplate" class="cg-notify-message-template">\n        \n    </div>\n\n    <button type="button" class="cg-notify-close" ng-click="$close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="cg-notify-sr-only">Close</span>\n    </button>\n\n</div>')}]);